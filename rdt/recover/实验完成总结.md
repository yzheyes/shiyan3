# RDT协议实验完成总结

## ✅ 全部6个实验已完成

实验完成时间：2025年12月28日

---

## 实验完成情况

### ✅ 实验1：协议性能研究（22个测试）
- 超时间隔影响：9个测试点
- 丢包率影响：7个测试点
- 校验和错误率影响：6个测试点
- **结论**：超时间隔50ms最优，丢包率和校验和错误率对性能影响显著

### ✅ 实验2：协议5与协议6性能对比（40个测试）
- 不同丢包率对比：14个测试点（7个丢包率 × 2个协议）
- 不同超时间隔对比：14个测试点（7个超时间隔 × 2个协议）
- 不同校验和错误率对比：12个测试点（6个错误率 × 2个协议）
- **结论**：P6（选择性重传）在所有条件下显著优于P5（Go-Back-N）

### ✅ 实验3：事件优先级研究（3个测试）
- 原始配置：帧到达优先（效率46%）
- 超时优先配置（效率47%）
- 网络层就绪优先配置（效率45%）
- **结论**：事件优先级对性能影响较小，原始设计合理

### ✅ 实验4：重传帧数量研究（108个测试）
- 协议5重传研究：54个测试点（9个超时间隔 × 6个丢包率）
- 协议6重传研究：54个测试点（9个超时间隔 × 6个丢包率）
- **结论**：P5最佳超时间隔40-80ms，P6对超时间隔不敏感

### ✅ 实验5：时间推进优化（2个测试）
- 原始版本：运行时间4.448秒
- 优化版本：运行时间4.245秒
- **结论**：优化提速4.6%，协议行为保持一致

### ✅ 实验6：网络延迟影响研究（10个测试）
- 协议5延迟测试：5个延迟环境
- 协议6延迟测试：5个延迟环境
- **结论**：P6对延迟变化不敏感（效率76-78%），适应性强

---

## 数据汇总

**总测试数量：** 186个测试
- 实验数据汇总.csv：包含全部186条测试记录
- 原始输出文件：保存在simulator_new/exp[1-6]_results/目录

**关键发现：**
1. 协议6（选择性重传）在所有测试中均优于协议5（Go-Back-N）
2. 效率提升：P6比P5高30-143%（取决于丢包率）
3. 重传减少：P6的重传次数约为P5的1/3到1/5
4. 稳定性：P6在各种环境下表现稳定

---

## 文件清单

### 数据文件
- ✅ 实验数据汇总.csv（186条记录）
- ✅ 实验数据分析报告.md（完整分析）
- ✅ 实验数据摘要.txt（格式化表格）

### 实验结果目录
- ✅ simulator_new/exp1_results/（22个文件）
- ✅ simulator_new/exp2_results/（40个文件）
- ✅ simulator_new/exp3_results/（3个文件）
- ✅ simulator_new/exp4_results/（108个文件）
- ✅ simulator_new/exp5_results/（2个文件）
- ✅ simulator_new/exp6_results/（10个文件）

### 脚本文件
- ✅ run_all_experiments.sh（批量执行实验1、2、4）
- ✅ run_exp6.sh（执行实验6）
- ✅ extract_all_data.sh（提取数据）
- ✅ extract_exp3_5.sh（提取实验3、5数据）
- ✅ extract_exp6.sh（提取实验6数据）

### 代码备份
- ✅ simulator_new/worker.c.backup（原始worker.c）
- ✅ simulator_new/sim.c.backup（原始sim.c）

---

## 实验报告建议

### 推荐图表

1. **实验1图表：**
   - 效率 vs 超时间隔曲线图
   - 效率 vs 丢包率曲线图
   - 效率 vs 校验和错误率曲线图

2. **实验2图表：**
   - P5 vs P6效率对比柱状图（不同丢包率）
   - P5 vs P6重传次数对比柱状图
   - P5 vs P6超时间隔敏感性对比

3. **实验3图表：**
   - 不同事件优先级的性能对比柱状图

4. **实验4图表：**
   - 重传次数热力图（超时间隔 × 丢包率）
   - 最佳超时间隔曲线（针对不同丢包率）

5. **实验5图表：**
   - 优化前后运行时间对比

6. **实验6图表：**
   - P5和P6在不同延迟环境下的效率对比
   - 延迟适应性曲线图

### 报告结构建议

```
1. 实验概述
   - 实验目的和背景
   - 实验环境和工具

2. 实验一：协议性能研究
   - 实验设计
   - 数据分析
   - 结论

3. 实验二：协议对比
   - 实验设计
   - 数据分析
   - 结论

4. 实验三：事件优先级
   - 实验设计
   - 数据分析
   - 结论

5. 实验四：重传研究
   - 实验设计
   - 数据分析
   - 结论

6. 实验五：性能优化
   - 优化方案
   - 性能提升
   - 结论

7. 实验六：延迟影响
   - 实验设计
   - 数据分析
   - 结论

8. 综合结论与建议
   - 协议选择建议
   - 参数配置建议
   - 未来工作
```

---

## 核心结论

### 1. 协议选择
**推荐使用协议6（选择性重传）**
- 效率高：76-93%（P5仅22-72%）
- 稳定性好：各种环境下表现一致
- 适应性强：对延迟和超时间隔不敏感
- 重传少：显著减少网络负载

### 2. 参数配置
- **协议5：** 超时间隔40-80ms，适用于低丢包率环境（<10%）
- **协议6：** 超时间隔50-100ms，适用于各种网络环境

### 3. 性能影响因素（按重要性排序）
1. 协议类型（P5 vs P6）- 影响最大
2. 丢包率 - 显著影响
3. 校验和错误率 - 明显影响
4. 超时间隔 - P5敏感，P6不敏感
5. 事件优先级 - 影响较小

---

## 实验成功要点

✅ **完整性：** 所有6个实验全部完成，共186个测试
✅ **可靠性：** 原始数据完整保存，可重复验证
✅ **系统性：** 涵盖性能、对比、优化、延迟等多个维度
✅ **实用性：** 提供明确的协议选择和参数配置建议

---

## 后续工作建议

1. 使用Excel/LibreOffice制作图表
2. 撰写详细的实验报告
3. 分析误差和统计置信度
4. 探讨实际应用场景

**实验数据充足，可支撑高质量实验报告！**
